<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Underhand Lab | Line-up Run Expectancy</title>

    <link rel="stylesheet" href="/style/style.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/14.8.1/math.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/decimal.js/10.4.3/decimal.js"></script>
    <script src="/src/markdown.js"></script>
    <script src="./control-3.js" type="module"></script>
    <style>
        .input-form {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            padding: 20px;
        }

        .input-group input {
            max-width: 70px;
        }

        input[type=file] {
            display: none;
        }

        #input-file {
            font-family: 'KBO-Dia-Gothic_medium', Arial, sans-serif;
            font-size: 15px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 5px;
            padding: 5px 10px;
            margin: 5px;
        }

        .nav {
            z-index: 3;
        }

        .slider {
            z-index: 3;
        }

        .toggle {
            position: absolute;
            bottom: 70px;
            left: 50%;
            transform: translateX(-50%);
            width: calc(100% - 70px);
            max-width: 750px;
        }

        .toggle-box-button {
            position: absolute;
            font-family: sans-serif;
            font-weight: 1000;
            top: 5px;
            right: 45px;
            width: 25px;
            height: 25px;
            background-color: transparent;
            border: none;
            color: gray;
            font-size: 20px;
            padding: 0;
            line-height: 20px;
        }

        .toggle-content, .toggle-content-a {
            min-height: 50px;
            overflow-y: scroll;
            overflow-x: hidden;
            transition: max-height 2s cubic-bezier(0, 1, 0, 1);
        }

        .toggle-content {
            max-height: calc(81vh - 150px);
        }
        .toggle-content-a {
            max-height: calc(72vh - 150px);
        }

        .toggle[data-toggle="min"] .toggle-content,
        .toggle[data-toggle="min"] .toggle-content-a {
            max-height: calc(150px);
        }
        .frostedglassmorphism {
            background: rgba(200, 200, 200, 0.2);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(2px);
            -webkit-backdrop-filter: blur(1px);
        }
    </style>

</head>

<body>
    <div class="nav">
        <div>
            <div style="flex-grow: 1">
                <h1><a href="/">ì–¸ë”í•¸ë“œ ì—°êµ¬ì†Œ</a> : <a href="/lab/">âš—ï¸</a></h1>
            </div>
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1" style="flex-grow: 1">
                <ul>
                    <li>
                        <a href="/lab/re/">ë¦¬ê·¸</a>
                    </li>
                    <li>
                        <a href="/lab/line-up/" select="true">íƒ€ì„  ê¸°ë°˜</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="slider">
        <div class="container neumorphism">
            <div>
                <button id="open-line-up-pop-up">íƒ€ì„  í¸ì§‘</button>
                <button id="open-batter-list-pop-up">íƒ€ì ê´€ë¦¬</button>
                <button id="open-runner-pop-up">ì£¼ì ì •ë³´ í¸ì§‘</button>

            </div>
        </div>
    </div>
    <div id="wrapper" style="padding-bottom: 80px;">
        <div class="container neumorphism">
            <details>
                <summary>
                    <h1>ğŸ¯</h1>
                    <select id="start-num" style="font-size:20px;">
                        <option value="0">1</option>
                        <option value="1">2</option>
                        <option value="2">3</option>
                        <option value="3">4</option>
                        <option value="4">5</option>
                        <option value="5">6</option>
                        <option value="6">7</option>
                        <option value="7">8</option>
                        <option value="8">9</option>
                    </select>
                    <h1>
                        ë²ˆ íƒ€ì ì‹œì  ìƒí™©ë³„ ê¸°ëŒ€ ë“ì 
                    </h1>
                </summary>
                <div id="result-re">
                </div>
            </details>
            <details>
                <summary>
                    <h1>
                        ğŸ“Š íƒ€ìë³„ ì´ë‹ ì„ ë‘íƒ€ì ë¶„ì„
                    </h1>
                </summary>
                <div id="result-leadoff">
                </div>
            </details>
            <div id="result-leadoff">
            </div>
            <div id="result-9re">
            </div>
            <p style="font-size: 0.9em; color: #666;">
                â€» ê¸°ëŒ€ë“ì  ê³„ì‚°ê¸°ì— ë¹„í•´ ì •í™•ë„ê°€ ë–¨ì–´ì§‘ë‹ˆë‹¤.(ë¶€ë™ ì†Œìˆ˜ì  ì˜¤ì°¨)
            </p>

        </div>

    </div>
    <div id="line-up-pop-up" class="panel frostedglassmorphism" style="/*display:none;*/">
        <div id="line-up-toggle" class="toggle container neumorphism">
            <h1>íƒ€ì„ </h1>
            <button class="remove-box-button"  
                id="close-line-up-pop-up">âœ•</button>
            <button class="toggle-box-button"
                id="toggle-line-up">-</button>
            <hr>
            <div class="toggle-content" style="text-align: center;padding: 20px 0px;">
                <div id="line-up" style="
                    display: flex;
                    flex-flow: column;
                    gap: 15px;">
                </div>
            </div>
        </div>
    </div>
    <div id="batter-list-pop-up" class="panel frostedglassmorphism" style="/*display:none;*/">
        <div id="batter-list-toggle" class="toggle container neumorphism" >
            <div>
                <h1>íƒ€ì ëŠ¥ë ¥ ê´€ë¦¬</h1>
                <button class="toggle-box-button" id="toggle-batter-list-pop-up">-</button>
                <button class="remove-box-button" id="close-batter-list-pop-up">âœ•</button>
            </div>
            <hr>
            <div>
                <button id="save-csv">
                    íƒ€ì ë¦¬ìŠ¤íŠ¸ ì €ì¥
                </button>
                <input type="file" id="read-batter-csv" accept=".csv">
                <label id="input-file" for="read-batter-csv">
                    íƒ€ì ë¦¬ìŠ¤íŠ¸ ë¶ˆëŸ¬ì˜¤ê¸°
                </label>
            </div>
            <hr>
            <div id="boxes" class="toggle-content-a">
            </div>
            <hr>
            <button id="add-batter-btn">íƒ€ì ì¶”ê°€</button>
        </div>
    </div>
    <div id="runner-pop-up" class="panel frostedglassmorphism" style="display:none;">
        <div id="runner-toggle" class="toggle container neumorphism">
            <h1>ì£¼ë£¨ ë° ìˆ˜ë¹„ ê°€ì • í™•ë¥  (ì¡°ê±´ë¶€ í™•ë¥ )</h1>
            <button class="toggle-box-button" 
                id="toggle-runner">-</button>
            <button class="remove-box-button"
                id="close-runner-pop-up">âœ•</button>
            <hr>

            <div class="toggle-content" style="text-align: center;">
                <div class="input-form">

                    <div class="input-group">
                        <label for="input_runner_s_r1_r2_safe">
                            ë„ë£¨ ì‹œë„ ì„±ê³µë¥ 
                        </label>
                        <input type="number" class="input_runner_s_r1_r2_safe" value="0.10" step="0.01" min="0" max="1">
                    </div>

                    <div class="input-group">
                        <label for="input_runner_s_r1_r2_out">
                            ë„ë£¨ ì‹œë„ ì‹¤íŒ¨ìœ¨
                        </label>
                        <input type="number" class="input_runner_s_r1_r2_out" value="0.025" step="0.01" min="0" max="1">
                    </div>
                    <b class="input_runner_s_r1_r1_safe" style="display:none;"></b>
                    <hr>

                    <div class="input-group">
                        <label for="input_runner_1B_r2_home_safe">
                            2ë£¨â†’í™ˆ ë“ì  ì„±ê³µë¥ (ë‹¨íƒ€)
                        </label>
                        <input type="number" class="input_runner_1B_r2_home_safe" value="0.40" step="0.01" min="0"
                            max="1">
                    </div>
                    <div class="input-group">
                        <label for="input_runner_1B_r2_home_out">
                            2ë£¨â†’í™ˆ ë“ì  ì‹œë„ ì•„ì›ƒ ë¹„ìœ¨(ë‹¨íƒ€)
                        </label>
                        <input type="number" class="input_runner_1B_r2_home_out" value="0.05" step="0.01" min="0"
                            max="1">

                    </div>
                    <div class="input-group">
                        2ë£¨â†’3ë£¨ ì§„ë£¨ìœ¨(ë‹¨íƒ€):
                        <b class="input_runner_1B_r2_r3_safe"></b>
                    </div>

                    <hr>

                    <div class="input-group">
                        <label for="input_runner_1B_r1_r3_safe">
                            1ë£¨â†’3ë£¨ ì§„ë£¨ìœ¨(ë‹¨íƒ€)
                        </label>
                        <input type="number" class="input_runner_1B_r1_r3_safe" value="0.30" step="0.01" min="0"
                            max="1">
                    </div>
                    <div class="input-group">
                        <label for="input_runner_1B_r1_r3_out">
                            1ë£¨â†’3ë£¨ ì§„ë£¨ ì‹¤íŒ¨ìœ¨(ë‹¨íƒ€)
                        </label>
                        <input type="number" class="input_runner_1B_r1_r3_out" value="0.30" step="0.01" min="0" max="1">
                    </div>

                    <div class="input-group">
                        1ë£¨â†’2ë£¨ ì§„ë£¨ìœ¨(ë‹¨íƒ€):
                        <b class="input_runner_1B_r1_r2_safe"></b>
                    </div>

                    <hr>

                    <div class="input-group">
                        <label for="input_runner_2B_r1_home_safe">
                            1ë£¨â†’í™ˆ ë“ì  ì„±ê³µë¥ (2ë£¨íƒ€)
                        </label>
                        <input type="number" class="input_runner_2B_r1_home_safe" value="0.40" step="0.01" min="0"
                            max="1">
                    </div>
                    <div class="input-group">
                        <label for="input_runner_2B_r1_home_out">
                            1ë£¨â†’í™ˆ ë“ì  ì‹œë„ ì•„ì›ƒ ë¹„ìœ¨(2ë£¨íƒ€)
                        </label>
                        <input type="number" class="input_runner_2B_r1_home_out" value="0.05" step="0.01" min="0"
                            max="1">

                    </div>
                    <div class="input-group">
                        1ë£¨â†’3ë£¨ ì§„ë£¨ìœ¨(2ë£¨íƒ€):
                        <b class="input_runner_2B_r1_r3_safe"></b>
                    </div>

                    <hr>

                    <div class="input-group">
                        <label for="input_runner_fo_r3_home_safe">
                            3ë£¨ì£¼ì í¬ìƒ í”Œë¼ì´ ì„±ê³µë¥ 
                        </label>
                        <input type="number" class="input_runner_fo_r3_home_safe" value="0.70" step="0.01" min="0"
                            max="1">
                    </div>
                    <div class="input-group">
                        <label for="input_runner_fo_r3_home_out">
                            3ë£¨ì£¼ì í™ˆ ì•„ì›ƒ í™•ë¥  (SF)
                        </label>
                        <input type="number" class="input_runner_fo_r3_home_out" value="0.05" step="0.01" min="0"
                            max="1">
                    </div>
                    <div class="input-group">
                        3ë£¨ì£¼ì íƒœê·¸ì—… ì‹œë„ x í™•ë¥ :
                        <b class="input_runner_fo_r3_r3_safe"></b>
                    </div>

                    <hr>

                    <div class="input-group">
                        <label for="input_runner_go_r1_r2_out">
                            1ë£¨ì£¼ìë§Œ ì•„ì›ƒ(ë•…ë³¼) í™•ë¥ 
                        </label>
                        <input type="number" class="input_runner_go_r1_r2_out" value="0.03" step="0.01" min="0" max="1">
                    </div>
                    <div class="input-group">
                        <label for="input_runner_go_b_r1_out">
                            íƒ€ìë§Œ ì•„ì›ƒ(ë•…ë³¼) í™•ë¥ 
                        </label>
                        <input type="number" class="input_runner_go_b_r1_out" value="0.03" step="0.01" min="0" max="1">
                    </div>
                    <div class="input-group">
                        ë³‘ì‚´ í™•ë¥ :
                        <b class="input_runner_go_double_play"></b>
                    </div>
                </div>
                <!--p style="font-size: 0.8em; color: #666;">â€» ë‚˜ë¨¸ì§€ í™•ë¥ ì€ ì£¼ìê°€ ë¨¸ë¬´ë¥´ê±°ë‚˜ ì¼ë°˜ ì•„ì›ƒìœ¼ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤.</p>
                    <hr style="wclassth: 100%; border-top: 1px da1Bed #ccc; margin: 5px 0;"-->
            </div>
        </div>
    </div>

    <div id="batter-pop-up" class="panel frostedglassmorphism" style="display:none;">
        <div id="batter-toggle" class="toggle container neumorphism">
            <h1>íƒ€ì ì •ë³´ í¸ì§‘</h1>
            <hr>
            <button id="open-batter-pop-up" style="display:none;">ë‹«ê¸°</button>
            <button class="toggle-box-button" 
                id="toggle-batter">-</button>
            <button class="remove-box-button" 
                id="close-batter-pop-up">âœ•</button>
            <div>
                <input class="player-name" type="text" value="batter" />
                <button class="save-csv">ì €ì¥</button>
                <input class='read-csv-file' type="file" accept=".csv" style="display:none;">
                <button class="read-csv">ë¶ˆëŸ¬ì˜¤ê¸°</button>

            </div>
            <hr>
            <div class="toggle-content" style="text-align: center;">
                <div class="input-form">
                    <div class="input-group">
                        íƒ€ì„:
                        <b class="input-batter-pa"></b>
                    </div>
                    <div class="input-group">
                        íƒ€ìˆ˜:
                        <b class="input-batter-ab"></b>
                    </div>
                    <div class="input-group">
                        ì•ˆíƒ€:
                        <b class="input-batter-hit"></b>
                    </div>
                    <div class="input-group">
                        ì¶œë£¨:
                        <b class="input-batter-ob"></b>
                    </div>
                    <div class="input-group">
                        ì¥íƒ€ìˆ˜:
                        <b class="input-batter-tb"></b>
                    </div>
                </div>
                <div class="input-form">
                    <div class="input-group">
                        íƒ€ìœ¨:
                        <b class="input-batter-ba"></b>
                    </div>
                    <div class="input-group">
                        ì¶œë£¨ìœ¨:
                        <b class="input-batter-oba"></b>
                    </div>
                    <div class="input-group">
                        ì¥íƒ€ìœ¨:
                        <b class="input-batter-slg"></b>
                    </div>
                    <div class="input-group">
                        OPS:
                        <b class="input-batter-ops"></b>
                    </div>
                </div>
                <hr>

                <div class="input-form">
                    <div class="input-group">
                        <label for="input-batter-bb">
                            ë³¼ë„·
                        </label>
                        <input type="number" class="input-batter-bb" value="111" step="1" min="0">
                    </div>
                    <div class="input-group">
                        <label for="input-batter-1B">
                            ë‹¨íƒ€(1B)
                        </label>
                        <input type="number" class="input-batter-1B" value="65" step="1" min="0">
                    </div>
                    <div class="input-group">
                        <label for="input-batter-2B">
                            2ë£¨íƒ€(2B)
                        </label>
                        <input type="number" class="input-batter-2B" value="23" step="1" min="0">
                    </div>
                    <div class="input-group">
                        <label for="input-batter-3B">
                            3ë£¨íƒ€(3B)
                        </label>
                        <input type="number" class="input-batter-3B" value="0" step="1" min="0">
                    </div>
                    <div class="input-group">
                        <label for="input-batter-hr">
                            í™ˆëŸ°(HR)
                        </label>
                        <input type="number" class="input-batter-hr" value="56" step="1" min="0">
                    </div>
                </div>
                <hr>
                <div class="input-form">
                    <div class="input-group">
                        <label for="input-batter-go">
                            ë•…ë³¼ ì•„ì›ƒ(GO)
                        </label>
                        <input type="number" class="input-batter-go" value="117" step="1" min="0">
                    </div>
                    <div class="input-group">
                        <label for="input-batter-fo">
                            ëœ¬ê³µ ì•„ì›ƒ(FO)
                        </label>
                        <input type="number" class="input-batter-fo" value="135" step="1" min="0">
                    </div>
                    <div class="input-group">
                        <label for="input-batter-so">
                            ì‚¼ì§„(SO)
                        </label>
                        <input type="number" class="input-batter-so" value="89" step="1" min="0">
                    </div>
                    <div class="input-group">
                        <label for="input-batter-sac">
                            í¬ìƒë²ˆíŠ¸(SAC)
                        </label>
                        <input type="number" class="input-batter-sac" value="0" step="1" min="0">
                    </div>
                    <div class="input-group">
                        <label for="input-batter-sf">
                            í¬ìƒí”Œë¼ì´(SF)
                        </label>
                        <input type="number" class="input-batter-sf" value="6" step="1" min="0">
                    </div>
                    <p style="font-size: 0.9em; color: #666;">
                        â€» í¬ìƒë²ˆíŠ¸, í¬ìƒí”Œë¼ì´ëŠ” ê¸°ëŒ€ ë“ì ì— ë°˜ì˜ë˜ì§€ ì•Šì§€ë§Œ, ëˆ„ì  ìŠ¤íƒ¯ìœ¼ë¡œ ì‚°ì¶œë˜ì–´ ì˜ˆì‹œë¡œ ë³´ì—¬ì§€ëŠ” íƒ€ìœ¨, ì¶œë£¨ìœ¨, ì¥íƒ€ìœ¨ì„ ì •í™•í•˜ê²Œ í‘œì‹œí•˜ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div id="guide" class="panel frostedglassmorphism" style="display:none;">
        <div class="pop-up container neumorphism">
            <h1>ë„ì›€ë§</h1>
            <hr>
            <div class="markdown-container pop-up-content" data-markdown-file="../guide.md">
            </div>
            <hr>
            <button id="close-guide-button">ë‹«ê¸°</button>
        </div>
    </div>
    <div id="model-state" class="panel frostedglassmorphism" style="display:none;">
        <div class="pop-up container neumorphism">
            <h1>ì£¼ì, ì•„ì›ƒì¹´ìš´íŠ¸ ì „ì´ ëª¨ë¸ ì‹œë‚˜ë¦¬ì˜¤</h1>
            <hr>
            <div class="markdown-container pop-up-content" data-markdown-file="../model/model-state.md">
            </div>
            <hr>
            <button id="close-model-state-button">ë‹«ê¸°</button>
        </div>
    </div>
    <div id="model-run" class="panel frostedglassmorphism" style="display:none;">
        <div class="pop-up container neumorphism">
            <h1>ë“ì  ì „ì´ ëª¨ë¸ ì‹œë‚˜ë¦¬ì˜¤</h1>
            <hr>
            <div class="markdown-container pop-up-content" data-markdown-file="../model/model-run.md">
            </div>
            <hr>
            <button id="close-model-run-button">ë‹«ê¸°</button>
        </div>
    </div>
    <div id="model-not" class="panel frostedglassmorphism" style="display:none;">
        <div class="pop-up container neumorphism">
            <h1>ë¯¸ë°˜ì˜ ì‹œë‚˜ë¦¬ì˜¤</h1>
            <hr>
            <div class="markdown-container pop-up-content" data-markdown-file="../model/model-not.md">
            </div>
            <hr>
            <button id="close-model-not-button">ë‹«ê¸°</button>
        </div>
    </div>
</body>

</html>